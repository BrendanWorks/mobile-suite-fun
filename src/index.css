@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
  }

  html,
  body {
    height: 100%;
    width: 100%;
    overflow: hidden;
    position: fixed;
    overscroll-behavior: none;
    -webkit-user-select: none;
    user-select: none;
  }

  #root {
    height: 100dvh;
    width: 100vw;
    overflow: hidden;
  }

  @supports (padding: max(0px)) {
    body {
      padding-left: max(0px, env(safe-area-inset-left));
      padding-right: max(0px, env(safe-area-inset-right));
      padding-top: max(0px, env(safe-area-inset-top));
      padding-bottom: max(0px, env(safe-area-inset-bottom));
    }
  }
}

@layer utilities {
  .touch-manipulation {
    touch-action: manipulation;
  }
}

/* ─── Shake ─────────────────────────────────────────────────────────────────── */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  15%  { transform: translateX(-6px); }
  30%  { transform: translateX(6px); }
  45%  { transform: translateX(-4px); }
  60%  { transform: translateX(4px); }
  75%  { transform: translateX(-2px); }
  90%  { transform: translateX(2px); }
}
.animate-shake {
  animation: shake 0.5s ease-in-out;
}

/* ─── Pulse (opacity) — replaces .pulse-red ─────────────────────────────────── */
@keyframes pulse-opacity {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0.45; }
}
.pulse-red {
  animation: pulse-opacity 1.6s ease-in-out infinite;
}
.animate-pulse-danger {
  animation: pulse-opacity 1.6s ease-in-out infinite;
}

/* ─── Pulse (scale) — replaces inline pulse-twice ───────────────────────────── */
@keyframes pulse-twice {
  0%, 100% { transform: scale(1); }
  25%       { transform: scale(1.08); }
  50%       { transform: scale(1); }
  75%       { transform: scale(1.04); }
}
.animate-pulse-twice {
  animation: pulse-twice 0.9s ease-in-out;
}

/* ─── Pop-in: scale up from 0 → 1 with a slight overshoot ───────────────────── */
@keyframes pop-in {
  0%   { transform: scale(0.4); opacity: 0; }
  65%  { transform: scale(1.12); opacity: 1; }
  100% { transform: scale(1);    opacity: 1; }
}
.animate-pop-in {
  animation: pop-in 0.35s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* ─── Fade-in-up: slide up while fading in ───────────────────────────────────── */
@keyframes fade-in-up {
  0%   { opacity: 0; transform: translateY(12px); }
  100% { opacity: 1; transform: translateY(0); }
}
.animate-fade-in-up {
  animation: fade-in-up 0.4s ease-out forwards;
}

/* ─── Fade-in (simple opacity) ───────────────────────────────────────────────── */
@keyframes fade-in {
  0%   { opacity: 0; }
  100% { opacity: 1; }
}
.animate-fade-in {
  animation: fade-in 0.35s ease-out forwards;
}

/* ─── Countdown number: scale-pop each tick ──────────────────────────────────── */
@keyframes countdown-pop {
  0%   { transform: scale(1.5); opacity: 0; }
  40%  { transform: scale(0.92); opacity: 1; }
  70%  { transform: scale(1.05); }
  100% { transform: scale(1); opacity: 1; }
}
.animate-countdown-pop {
  animation: countdown-pop 0.45s cubic-bezier(0.34, 1.3, 0.64, 1) forwards;
}

/* ─── Glow pulse: border/shadow throb for correct reveals ────────────────────── */
@keyframes glow-pulse {
  0%, 100% { box-shadow: 0 0 12px var(--glow-color, rgba(0,255,255,0.4)); }
  50%       { box-shadow: 0 0 30px var(--glow-color, rgba(0,255,255,0.8)); }
}
.animate-glow-pulse {
  animation: glow-pulse 1.2s ease-in-out infinite;
}

/* ─── Score tick: used for animated number count-up ──────────────────────────── */
@keyframes score-tick {
  0%   { transform: scale(1); }
  50%  { transform: scale(1.15); }
  100% { transform: scale(1); }
}
.animate-score-tick {
  animation: score-tick 0.12s ease-out;
}
